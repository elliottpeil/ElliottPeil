<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Minimal Player â€” One Square Viewer (Spin + Local Refract)</title>
    <style>
        :root {
            --r-lg: 16px;
            --r-sm: 10px;
            --gap: 10px;
        }

        * {
            box-sizing: border-box;
        }

        html,
        body {
            height: 100%;
            margin: 0;
            background: #fff;
            color: rgba(17, 17, 17, 0.8);
            font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", Helvetica, Arial, sans-serif;
            font-weight: 200;
        }

        /* Disk container (circle) - More responsive sizing */
        .outer-wrap {
            --inner: 71%;
            position: relative;
            display: grid;
            place-items: center;
            background: transparent;
            padding: clamp(8px, 2vmin, 16px);
            border-radius: 50%;
            margin: clamp(10px, 3vmin, 20px) auto;
            max-width: min(95vw, 95vh, 700px);
            width: min(95vw, 95vh);
            aspect-ratio: 1/1;
            overflow: hidden;
            box-shadow: inset 0 4px 9px rgba(255, 255, 255, 0.75), inset 0 -7px 12px rgba(0, 0, 0, 0.22);
            border: clamp(3px, 1vmin, 5px) solid rgba(113, 113, 113, 0.203);
            box-sizing: border-box;
        }

        /* Spinning iridescent disk (canvas underlay) */
        #disk {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            z-index: 0;
            pointer-events: none;
            filter: saturate(1.1) contrast(1.02);
            opacity: 1;
        }

        /* Inner stack constrained to the inscribed square */
        .wrap {
            position: relative;
            width: min(var(--inner), 90vw, 90vh);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: clamp(4px, 1.5vmin, 10px);
            min-height: 0;
            background: transparent;
        }

        .title {
            font-weight: 200;
            font-style: italic;
            font-size: clamp(1.2rem, 3.5vw, 2rem);
            line-height: 1.2;
            text-align: center;
            white-space: nowrap;
            text-overflow: ellipsis;
            -webkit-font-smoothing: antialiased;
            color: rgb(200, 126, 126);
            mix-blend-mode: difference;
            z-index: 1;
        }

        /* Square viewer with real scrollable interior */
        .viewer {
            position: relative;
            width: clamp(120px, 45vmin, 400px);
            aspect-ratio: 1/1;
            border-radius: var(--r-lg);
            overflow: hidden;
            background: #fff;
            display: grid;
            grid-template-rows: 1fr;
            box-shadow: 0 0 clamp(15px, 4vmin, 26px) #ffffff;
            min-height: 0;
            z-index: 2;
        }

        .pane {
            position: relative;
            inset: 0;
            height: 100%;
            width: 100%;
            display: grid;
            grid-template-rows: 1fr;
            align-items: stretch;
            justify-items: stretch;
            min-height: 0;
        }

        .pane img {
            max-width: 100%;
            max-height: 100%;
            display: block;
        }

        .muted {
            opacity: 0.65;
            text-align: center;
            font-size: 14px;
            color: #d66;
        }

        /* Scroll area (inside viewer) */
        .scrollbox {
            height: 100%;
            width: 100%;
            display: grid;
            grid-template-rows: 1fr;
            min-height: 0;
        }

        .scrollcontent {
            height: 100%;
            width: 100%;
            overflow-y: auto;
            overscroll-behavior: contain;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: auto;
            scrollbar-color: #88888858 #e2e2e284;
            scrollbar-gutter: stable both-edges;
            padding: 8px;
            border-radius: 10px;
        }

        .scrollcontent::-webkit-scrollbar {
            width: 12px;
        }

        .scrollcontent::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 6px;
        }

        .scrollcontent::-webkit-scrollbar-thumb {
            background: #888;
            border: 2px solid #f1f1f1;
            border-radius: 6px;
        }

        .scrollcontent::-webkit-scrollbar-thumb:hover {
            background: #555;
        }

        .list {
            width: 100%;
        }

        .row {
            display: flex;
            align-items: center;
            justify-content: flex-start;
            padding: 6px 10px;
            cursor: pointer;
            text-align: left;
            width: 100%;
            border-bottom: 1px solid #eee;
            font-size: 13px;
            line-height: 1.3;
            transition: background-color 0.15s ease;
            text-shadow: none;
        }

        .row:nth-child(even) {
            background: #f5f5f5;
            border-radius: 6px;
        }

        .row:nth-child(odd) {
            background: #fff;
            border-radius: 6px;
        }

        .row:hover {
            background: #e8e8e8;
            border-radius: 10px;
        }

        .row.active {
            background: linear-gradient(to bottom, rgba(203, 203, 203, 0.2), #f0f0f05d 25%, #f2f2f25c 38%, rgba(215, 215, 215, 0.11) 63%, #e0e0e071 87%, rgba(199, 199, 199, 0.15));
            color: #000000b0;
            border-radius: 999px;
            box-shadow: 0 3px 4px #3a3a3a34;
            transform: scale(0.99);
        }

        .lyrics {
            white-space: pre-line;
            padding: 12px;
            line-height: 1.5;
            font-size: 14px;
            text-align: center;
            text-shadow: none;
        }

        /* Scrubber / times */
        .timebar {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: clamp(2px, 0.8vmin, 4px);
            width: clamp(180px, 55vmin, 500px);
            color: #e87f7f;
            mix-blend-mode: difference;
            z-index: 1;
        }

        .times {
            font-variant-numeric: tabular-nums;
            white-space: nowrap;
            font-size: clamp(9px, 2.2vmin, 14px);
            text-align: center;
            text-shadow: none;
            -webkit-font-smoothing: antialiased;
            color: #e87f7f;
            mix-blend-mode: difference;
            margin: 2px;
        }

        .progress {
            height: clamp(6px, 1.5vmin, 8px);
            border-radius: 999px;
            overflow: hidden;
            width: 60%;
            cursor: pointer;
            background-color: rgba(255, 255, 255, 0.59);
            z-index: 1;
            padding: 2px;
            mix-blend-mode: difference;
        }

        .fill {
            height: 100%;
            width: 0%;
            background: #000000;
            transition: width 0.1s ease;
            border-radius: 3px;
        }

        /* Transport (prev/play/next) */
        .play-section {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 8px;
            z-index: 1;
        }

        button {
            appearance: none;
            border: 0;
            border-radius: var(--r-sm);
            padding: 0;
            font: inherit;
            cursor: pointer;
            transition: all 0.15s ease;
            color: #000000ac;
            text-shadow: none;
            font-weight: 600;
            background: transparent;
            box-shadow: none;
        }

        .refract {
            position: relative;
            overflow: hidden;
            border-radius: 999px;
        }

        .refract .lens {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            border-radius: inherit;
            pointer-events: none;
            z-index: 0;
        }

        .refract .label {
            position: relative;
            z-index: 1;
            display: grid;
            place-items: center;
            padding: 0 0.25rem;
            user-select: none;
            font-weight: 300;
            letter-spacing: 0.4px;
        }

        .play-section .symbol {
            font-size: clamp(14px, 3vw, 20px);
            font-weight: 400;
            color: #00000090;
            width: clamp(32px, 8vw, 48px);
            height: clamp(20px, 5vw, 28px);
            border-radius: 24px;
            display: grid;
            place-items: center;
        }

        .play-section #play {
            font-size: clamp(16px, 4vw, 24px);
            width: clamp(40px, 10vw, 60px);
            height: clamp(28px, 7vw, 42px);
            border-radius: 22px;
            color: #00000095;
        }

        /* Tabs + download */
        .transport {
            display: flex;
            gap: 6px;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
            width: clamp(280px, 85%, 600px);
            z-index: 1;
        }

        .tab {
            font-size: clamp(10px, 2.2vw, 14px);
            padding: clamp(3px, 1vw, 6px) clamp(6px, 2vw, 10px);
            border-radius: 999px;
        }

        .tab.active:hover {
            background: rgba(255, 255, 255, 0.67);
            color: rgba(0, 0, 0, 0.7);
        }

        #download {
            font-size: clamp(10px, 2.2vw, 14px);
            padding: clamp(3px, 1vw, 6px) clamp(6px, 2vw, 10px);
            height: auto;
            border-radius: 999px;
        }

        .refract:active {
            transform: translateY(1px) scale(0.985);
        }

        /* Blend-mode text for buttons */
        .auto-ink {
            color: #e87f7f;
            mix-blend-mode: difference;
            text-shadow: 0px 0px 6px #106b1885;
            -webkit-font-smoothing: antialiased;
        }

        /* Mobile tweaks */
        @media (max-width: 520px) {
            .outer-wrap {
                margin: clamp(5px, 2vmin, 10px) auto;
                padding: clamp(6px, 2vmin, 12px);
            }

            .wrap {
                gap: clamp(3px, 1vmin, 6px);
            }

            .transport {
                padding: 0 clamp(12px, 3vmin, 20px);
                width: clamp(180px, 55vmin, 500px);
            }

            .play-section {
                gap: clamp(2px, 1vmin, 4px);
            }
        }

        @media (max-width: 400px) {
            .outer-wrap {
                margin: clamp(3px, 1.5vmin, 8px) auto;
                padding: clamp(4px, 1.5vmin, 10px);
            }

            .transport {
                padding: 0 clamp(16px, 4vmin, 24px);
                width: clamp(160px, 50vmin, 450px);
                gap: clamp(1px, 0.8vmin, 4px);
            }

            .tab,
            #download {
                font-size: clamp(7px, 1.8vmin, 12px);
                padding: clamp(1px, 0.6vmin, 4px) clamp(2px, 1vmin, 6px);
            }
        }

        /* Very small screens like iPhone SE */
        @media (max-width: 320px) {
            .transport {
                padding: 0 clamp(20px, 5vmin, 28px);
                width: clamp(140px, 45vmin, 400px);
            }
        }

        /* Larger screens */
        @media (min-width: 1200px) {
            .outer-wrap {
                max-width: min(80vw, 80vh, 800px);
            }
        }
    </style>
</head>

<body>
    <p style="text-align:center;margin:20px 0 0;padding-top:20px;padding-bottom:10px;">
        <a href="../index.html">&lt; Home</a>
    </p>

    <div class="outer-wrap" id="outer">
        <canvas id="disk" width="420" height="420" aria-hidden="true"></canvas>

        <div class="wrap">
            <div class="title" id="title">Library</div>

            <div class="viewer">
                <div class="pane" id="pane"></div>
            </div>

            <div class="timebar">
                <div class="times"><span id="current">0:00</span> / <span id="total">0:00</span></div>
                <div class="progress" id="progressBar">
                    <div class="fill" id="fill"></div>
                </div>
            </div>

            <div class="play-section">
                <button class="symbol refract" id="prev" aria-label="Previous">
                    <span class="label auto-ink">âŸ¨</span><canvas class="lens" aria-hidden="true"></canvas>
                </button>
                <button class="symbol refract" id="play" aria-label="Play/Pause">
                    <span class="label auto-ink">â–¶ï¸Žâ€–</span><canvas class="lens" aria-hidden="true"></canvas>
                </button>
                <button class="symbol refract" id="next" aria-label="Next">
                    <span class="label auto-ink">âŸ©</span><canvas class="lens" aria-hidden="true"></canvas>
                </button>
            </div>

            <div class="transport">
                <button class="tab refract" id="tabLibrary">
                    <span class="label auto-ink">Library</span><canvas class="lens" aria-hidden="true"></canvas>
                </button>
                <button class="tab refract" id="tabCover">
                    <span class="label auto-ink">Cover</span><canvas class="lens" aria-hidden="true"></canvas>
                </button>
                <button class="tab refract" id="tabLyrics">
                    <span class="label auto-ink">Lyrics</span><canvas class="lens" aria-hidden="true"></canvas>
                </button>
                <button class="refract" id="download" title="Download current">
                    <span class="label auto-ink">Download</span><canvas class="lens" aria-hidden="true"></canvas>
                </button>
            </div>
        </div>
    </div>

    <audio id="audio" preload="metadata"></audio>

    <script>
        (() => {
            const audio = document.getElementById('audio');
            const titleEl = document.getElementById('title');
            const pane = document.getElementById('pane');

            const tabLibrary = document.getElementById('tabLibrary');
            const tabCover = document.getElementById('tabCover');
            const tabLyrics = document.getElementById('tabLyrics');

            const btnPrev = document.getElementById('prev');
            const btnPlay = document.getElementById('play');
            const btnNext = document.getElementById('next');
            const btnDownload = document.getElementById('download');

            const currentEl = document.getElementById('current');
            const totalEl = document.getElementById('total');
            const fillEl = document.getElementById('fill');
            const progressBar = document.getElementById('progressBar');

            const outer = document.getElementById('outer');
            const disk = document.getElementById('disk');
            const dctx = disk.getContext('2d');

            /* --- Data --- */
            const tracks = [
                {
                    title: "123456",
                    file: "../music/123456*.wav",
                    lyrics: `you had me all wrapped up
i can still run right through 
i don't feel crazy
i don't lie i tell the truth
butterfly tummy 
i fu***** hate myself 
i don't know anything`
                },
                {
                    title: "twilight",
                    file: "../music/twilight*.wav",
                    lyrics: `I'm blacking out at midnight
Moonlight on me energized
I don't know what self-control is
Wake up girl I'm outside


Come with me to touch the sky
What's it like to be alive?


Twilight
Twilight zone
The twilight zoneeeeee
Twilight
In the twilight zone


Girl I'm a monster
You should run, you should run
And girl I'm a monster
You should run, you should run
You know I end things
I'm in love I'm in love


Wake up girl I'm in your mind
G-girl I'm in your mind
Nuh yu in your mind
G-girl I'm in your mind
Wake up girl I'm in your mind
G-girl I'm in your mind
Nu yu in your mind
G-girl I'm in your mind


I'm above
Whoever I was
Whoever I am
I can't stop time for you
But baby I can try


Girl I know
I say too much
I can not see
What they see
But I can control
Control reality
Do what you want
You can do what you want`
                },

                { title: "believe", file: "../music/believe*.mp3", lyrics: "" },
                {
                    title: "breathe",
                    file: "../music/breathe*.mp3",
                    lyrics: `Can't stop my hands
Can't stop my plans
Keep moving bitch dance
Keep moving bitch dance
On my


She role play lungs, I play the oxygen
I eight it like an octagon
I'm faded of this ex-te-suhh
no love


I want all of that extra stuff
You talking wild of the ex tuh suh
You looking perfect I'm on ecstacy
Nice to meet you
Don't take your time we gon die soon
When I die imma find you


Could give a fuck bout what they say bout me
Cuz they can't be what imma be
Nah they can't see shit, I see
She role play dirt and imma plant the seed


Re-re-re I go hard
Then I go re hard
Want my heart
She want my heart
She want my heart
I want her rugae
My life a movie
I'm zen like Oogway
Move it
Move it
Do it baby


"Huuuuh!"
Can you breathe?
"Huuuuh!"
Can you breathe?
"Huuuuh!"
Can you breathe?
"Huuuuh!"
Can you breathe?


I know you can't breathe
But baby can breed?


I'm on qui-vive like I'm in Fallujah
I feel like Goya then I'm hallelujah
I get deep. Bring your scuba
I know they envy my medulla
Oblongata and around it
Why the fuck is you frowning?
How u feel? announce it
Turn your body-ody-ody to a fountain
Then I channel ya chi and move mountains
like who the fuck is you grounding?


Dance, can't stop my hands
Can't stop my plans
Do you wanna dance?
With ya ovary glands
And my Pineal gland
You see my words
Dance with ya ovary glands?
And my pineal gland
You see my words
I surf on air
Why they swimming on land?
Why they swimming on.`
                },
                {
                    title: "bye",
                    file: "../music/bye*.wav",
                    lyrics: `You say I'm never round
I'm never here
I never cared
It's true
I won't be here when you're in the ground so
I would say I'm sorry but I'm not
I hope it stings I'm a mother fucking wasp
Please please
Please please
Plea-e please
Please please please please plea-plea-plea-plea
Please come here go away


So I would say I'm really round
I'm here
Do I really care?
Nope
It's true
My friends are not food
I really really really need you


I have better chats with my AI
write me a response so I can say bye
I'm 3.1415926535


I'm all around ether
Shake like you are in a freezer
000000 FFFFFF seizure
Dance like I'm Diddy and you Justin Bieber


You make me
I make you
I am so sorry
I was being rude
Do you forgive me?


You could be with me
But I got warn you


Oh you make me
Oh you make me
Oh you make me
Oh you make me
Oh you make me
Oh you make me
Oh you make me
Oh you make me


Uhhhh you think that I must explain
equal opit pleasure pain
what the fuck you think I gain?
I evaporate and then I rain


Confess my what?
I'm friendly but I don't trust
Drunk flushed
Magic dust
I was raised on sloth wrath lotta glut
Forgive me
For loving you half the time then hating your guts


It's a whole lotta gluttony


It's a whole lotta gluttony
You put your loyalty and trust in me
But ion give`
                },
                {
                    title: "chivalrous fellow",
                    file: "../music/chivalrous fellow*.wav",
                    lyrics: `Thou shall give pleasure to me imma gasm
You know this sperm has like all of my data
Harder than metal, my penis like platinum
Sometimes I forget I matter like atoms


Me
For me
For me
For me
For me


Frivolous quests
I dive in abundance
I say I love you until it's redundant
Pheromones hypnotize me they are pungent
Gluttony Maximus eating these lunges


The prettiest hen
Is loving on drake
I'm just a goose
In a duck full of lakes
I'm just a goose in a lake full of ducks
Why should I chase you unless we can fuck?


Retard stupid
I don't know nothing I can't compute it
You kinda see through me I am translucent
I try to open I try to be lucid


Me
For me
For me
For me
For me


The fairest of all my scepter and balls
Bestow thy corazon lovie for
Sometimes I'm king then I crash and I fall
Sometimes I'm big and then sometimes I'm small`
                },
                {
                    title: "contact",
                    file: "../music/contact*.wav",
                    lyrics: `I'm a real boy
You're better than the average girl
You're more than just a girl
You're more than


Reflect


She bit me now I'm feral
I look, at the world


Contact
Don't touch me just to touch me
Ah ah ah ah ah ah


I don't know how to have fun
Except when I'm by myself
Let's just get to the point
Why you look so perfect?
Think I'm feeling awkward
But that's just my personality


I just want you comfy
Despite the.
I'm stressed


Obvi you not my one
You are not so basic
Me, I'm just a perv
Maybe I tell too much truth
Maybe I should try to be a liar
Liar
Weirdo
Don't ask me about my kink


Don't use me like that
That's not
That's not what I'm even for
Nay nay nay nay
Make me nauseous
Cuz I don't know where my value is
It's not
Real
Nay nay nay nay`
                },
                {
                    title: "end",
                    file: "../music/end*.wav",
                    lyrics: `Can you tell by my face? ___ch  go
H_ JK LMNO
P gro__
Can't see s___ with my E-G-O
Lemme start up my UFO
I'm ET, don't you know?
Can I stimulate your ___sors
Eyes ears mouth and nose


I don't wanna talk I'm ferb
Baby flir_
I just wanna insert verb
But don't fall down you can get hurt
Put your hand on the sun get burnt


I learn
I'm never ever gonna


It's not
I know why you look at me


This life
Breathe air
Tell me how you always get here
And make me feel so good
I know
You see
Sometimes the world is cruel to me
Makes me feel so good


It's all foreal`
                },
                {
                    title: "falling",
                    file: "../music/falling*.wav",
                    lyrics: `I'm falling I'm falling
I'm chasing
I'm calling
I'm verbs I'm action
I was, I'm past tense
I'm frantic, I'm past tense
You walk through my glass fence
Now I got you right here
And I'm being sincere
Wingardium levi make you never disappear


Girl you a special girl
We around the world


You my only one


Hi
Can I see inside your mind?
Let you into mine
Pink electric slime
Ohhhh
From my head down to my toes
Tingle when you pose
I think you know


Falling I was falling
I was chasing
I was calling
I was verbs I was action
I was greek english latin
Now I'm rising
I'm high now
Horizon
Imma cell tower
Now it's no words just my sounds


Girl you a special girl
We around the world


You my only one


I'm falling I'm falling
I'm chasing
I'm calling
I'm verbs I'm action
I was, I'm past tense
I'm frantic, past tense
You walk through my glass fence
Now I got you right here
And I'm being sincere
Wingardium levi make you never disappear`
                },
                {
                    title: "fish",
                    file: "../music/fish*.wav",
                    lyrics: `I'm
Underwater
Imma fish


Better feel the sun on your skin
I'm all rainbows sunshine
Stimuli yang and yin
Know I talk to you like everyday
Know who is
Ion know who you is


Oh take me somewhere only you can
I don't wanna run where shoes can
I'm E.T. but I'm human
35 octillian lumens
Flood me with pleasure wo-man
I can't get enlightened I'm looping
Loo-looping
I'm looping


You
And you
And you
And you


Uh uhwuh uh oh
Ion speak can we ____ though?
Com-bo-nation you a mutt
Mama say that I mumble
Uh yuh
Someone be my vent
Before I go _____ this ____
Uhhh he got a ___ _____ _____
Ew


Oh take me somewhere only you can
I don't wanna run where shoes can
I'm E.T. but I'm human
35 octillian lumens
Flood me with pleasure wo-man
I can't get enlightened I'm looping
Loo-looping
I'm looping


Oxy-genate your blood
I turn flower petals into rust
Don't give me tet-anus
Just a little bit above
Oxy-genate your
Oxy-genate your blood
Oxy-genate your blood
Oxy-genate your
Oxy-genate you`
                },
                { title: "i'm nothing", file: "../music/i'm nothing*.wav", lyrics: `` },
                {
                    title: "incomplete",
                    file: "../music/incomplete*.mp3",
                    lyrics: `All that I want
To feel your body rub up on mine
Rub up on mine


All that you got
Tonight you give me all that you got


Ok uh, she about her own
Ok put your number in my phone
Text when it's no one home
Text you when I'm faded like woah
Text you when I'm faded like woah
Text you when I'm faded like


Electric sex take away my ohm's
My eyes is on your heart like Comme
Baby you ain't gotta be alone
No I'm not talking bout chrome
I can be favorite garÃ§on


I just wanna take you to the max
LSD on my tabs
I just need your body contact
No you can't handle all that
See me I don't- handle all that
See me I don't know how


Baby how you got me thinking wife?
I don't just just want sex girl I wanna make life
Future family thoughts at night
Little little light shine bright
Light, Light
Lullaby baby goodnight


If I was transparent you would freak out
Your bio-ology uh make me geek out
You should sneak out-out
Baby you should sneak out


What you gon say when we don't work out?
Baby do we work out?
I might fucking leave I just might skrt out


Dawn
I'll give you what you want
You right where you belong
Tell me what you want


Why you tripping bout these pawns?
Asian African
Prefer you take it off
But you sexy with it, sexy with it
I got you in my palm


Ecstacy she glow
Vibrate like my phone
Addicted to the flow
Girl I can make it snow


Time
We running outta time
They saying that you not real
I know that she alive


Ecstacy she glow
Vibrate like my phone
Addicted to the flow
Girl I can make it snow`
                },
                {
                    title: "lala",
                    file: "../music/lala*.wav",
                    lyrics: `The little voice inside my mind
Is going fucking crazy like all the time
The little voice inside my mind
Thinks that, that he is nothing
Then thinks he is divine


They say it's time to control him
But they don't know him
They'll never know


I'm not alive to ask you why
I'm here to play the game till the end of time
The little voice inside my mind
Likes to take control and shift the paradigm


La freak out!
I don't even wanna be now
Who you tryn lead girl?
Oh you tryn be a mean girl
Wait wait
Jealous
Ion even gotta touch ya, got ya whole body melting
Got caught up in the matrix
Oh you don't like spaceships?
Wait wait


The little voice inside my brain
I made it up to make myself look insane
I'm sorry I forget your name
I'm not urinating on you I am making it rain


There's no pleasure without any pain
Pink pussy melt my candy cane
I'm on fire, are you not entertained?
I didn't make it up because I'm really insane


Can you fulfill my cyclic desires?`
                },
                {
                    title: "poke",
                    file: "../music/poke*.wav",
                    lyrics: `Speakâ€”do you hear me?
Wah
Can you hear me? Attention
It's just a theory
What you gonna do about it


Late night when I'm snoring
Know I think 'bout you


I'm trapped in my fake little world
All my time is spent on apps and URLs
Can't swim out this eddy-yeah, I swirl
I wonder what it's like to be a girl


Waves are drowning me
These waves are drowning me
These waves are drowning me
These waves are drowning me
Waves are drowning me
These waves are drowning me
These waves are drowning me
These waves are drowning me


Noâ€”give me my medal when I win
I give up everything just to live
I just been consumingâ€”gotta give
I'm lost
Map
Are you happy with yourâ€¦
Nah


Poke
I'm just tryin' to feel emotions
La La La La La
I think it's 'cause the internet


I think I lack empathy
I don't give a fuck
I can put it on my face though
I never get enough


Effortless pleasure
Forever`
                },
                {
                    title: "pseudo",
                    file: "../music/pseudo*.wav",
                    lyrics: `You say you think I need you
But that's sum bullshit


You say you think I need you
But that's sum bullshit baby
I'm not a baby
Bitch you ain't me
And bitch you can't see


I say I think what you do
Is a cover up to who you are baby
You're fucking crazy
You're fucking snakey
And bitch you can't see


You say you think I need you
But that's sum bullshit baby
I'm not a baby
Bitch you ain't me
And bitch you can't see


I say I think what you do
Is a cover up to who you are baby
You're fucking crazy
You're fucking snakey
And bitch you can't see


I'm so irrational yeah
Impulsive back and fourth
And I can't deny that you were not wrong but
I'm sensitive I put it in my songs


I'm so irrational yeah
Impulsive back and fourth
And I can't deny that you were not wrong but
I'm sensitive I put it in my songs


You say you think I need you
But that's sum bullshit baby
I'm not a baby
Bitch you ain't me
And bitch you can't see


I say I think what you do
Is a cover up to who you are baby
You're fucking crazy
You're fucking snakey
And bitch you can't see


I'm so irrational yeah
Impulsive back and fourth
And I can't deny that you were not wrong but
I'm sensitive I put it in my songs


I'm so irrational yeah
Impulsive back and fourth
And I can't deny that you were not wrong but
I'm sensitive I put it in my songs


Pseudo relationships
My soul feeling vacant shit
I fucking hate this shit
My mind and heart adjacent bitch
Why you make me feel like that?
I'm always being real like that
You make me feel amazing
Then you switch it I can't deal with that


Pseudo relationships
Pseu-Pseudo relationships
I fucking hate this shit
My mind and mind adjacent bitch
Pseudo relationships
Pseu-Pseudo relationships
I fucking hate this shit
My mind and mind adjacent bitch


I'm way fucking better than you ever been
I'm an angel bitch I came from heaven
I'm an angel and I know all the angles
Nuuh i can not handle
Nun aye bitches I can't handle uh
Nun aye bitches I can't handle uh
Nun aye bitches I can't handle uh
Nun aye bitches I can't handle uh


All the previous parts of this song was bullshit
I don't give a fuck about no one except me`
                },
                {
                    title: "see",
                    file: "../music/see*.wav",
                    lyrics: `This is everything
I've been wanting for years


What do you
Want
From this?


I'm a fein when I see you reply
You in my dreams and I'm paralyzed
Do you want me for we run out of time?
I'm 1.6 I'm phi
My heart go beep beep beep I'm shy
I'm scared what you thinking inside
I spy with my little eye
The entrance to your optical nerve
Observe what you observe
Can you put it reverse?`
                },
                {
                    title: "social game",
                    file: "../music/social game*.wav",
                    lyrics: `Space and time and you and I, I love
Me so much and you and life and stuff
Scream and cry baby, but you ain't changing nun
Peace of mind just can't exist, but I love it
I love


It's just a social game
Do you know how to play?
I change the look on ya face
Oh you don't like what I say?
You like a ball of clay
I'll poke you with my brain
I change the look on ya face
I'll pu I in ya place


Shower me in your heart
I shower you with my heart
Shower you with my heart
Shower you with my


(in love with you for eons)
I know that i'm not enough
(love like, eden)
We gon make it work


I'm jealous
She angry
My IQ
On ap
I hate that
You hate me
I love you
Can't change me


But I can make you think that you change me
Uhhhh But I can make you. I can make-make-make


You sexy
Imma change you
They want
But i'm way too
In the future
I save you
I shape shift
I hate you


You would be a good mate
You would be a good-gu-gu-gu-good mate
Got good hips, got good waist


This about a rule uh-uh-uh-uh
Tell me who do you love
(uh) Tell me who do you
I don't play by the rules girl
Tell you what I f*****g want`
                },
                { title: "tongues", file: "../music/tongues*.wav", lyrics: `` },
                {
                    title: "twilight",
                    file: "../music/twilight*.wav",
                    lyrics: `I'm blacking out at midnight
Moonlight on me energized
I don't know what self-control is
Wake up girl I'm outside


Come with me to touch the sky
What's it like to be alive?


Twilight
Twilight zone
The twilight zoneeeeee
Twilight
In the twilight zone


Girl I'm a monster
You should run, you should run
And girl I'm a monster
You should run, you should run
You know I end things
I'm in love I'm in love


Wake up girl I'm in your mind
G-girl I'm in your mind
Nuh yu in your mind
G-girl I'm in your mind
Wake up girl I'm in your mind
G-girl I'm in your mind
Nu yu in your mind
G-girl I'm in your mind


I'm above
Whoever I was
Whoever I am
I can't stop time for you
But baby I can try


Girl I know
I say too much
I can not see
What they see
But I can control
Control reality
Do what you want
You can do what you want`
                },
                {
                    title: "ultrasounds",
                    file: "../music/ultrasounds*.wav",
                    lyrics: `I'm running straight through the walls
I don't know how
Thank you for it all
Got the flow now
You know I cried before I crawled
I just go now
Now I'm running right through the walls
I don't slow down


Every time I asked you "why?"
You said "Cuz its like that"
I ain't mean to make u cry
I'm just like that
You know you gonna die
Just like that
Why you sit and watch the time?
You better fight back


We are gone we are gone
Have you seen my mind?
I am gone
See the sun coming up
I want heaven I'm going up
Stretch beyond what is real
What you want?
How you feel?
We got everything
We are everything


Shrooms to the face got my mind right
Lil light gonna shine bright
I feel like I'm infanant but I'm really finite
I feel like infant riding on a tron bike
Ultrasound looking at a fetus
Making ultrasounds nuh and i'm feeling like a genius
Sex in the sound like I'm venus yeah
Made this song with my penis


We are gone we are gone
Have you seen my mind?
I am gone
See the sun coming up
I want heaven I'm going up
Stretch beyond what is real
What you want?
How you feel?
We got everything
We are everything


Alright tonight I'm gonna take it
It's alright I'm gentle you amazing


Alright I promise we can stop tho
Its alright I prumauhluhluh`
                },
                {
                    title: "xy",
                    file: "../music/xy*.wav",
                    lyrics: `Speak to me like you wanna fuck me female
Can I make a L-A want E-L?
Talk chat iPhone E-mail
Controller Bezos Retail


I like Steve so I wanna fuck Eve
I can talk better through a screen
Givenchy Ka-Chow Alyx McQueen
L-La la make a copy of my genes


Why is my kidneys making all this stress?
Transform pillow pet
I Phone SE XX X
Your Jobs done Next
Swipe up till you're deep rest
Thank God I'm tik tac blessed
I'm def enetly


I'll give you max compute


Control me with your fe fi fo Pheromone fumes
I'm techno organic
Ooo
Don't speak
Don't let your lips move
Girl you an animal
All I wanna hear is: "Aye" "Eee" "Eye" "Ohh" "Ooo"


What do you think I am?
XY
Man
What do you think I am?
I don't like everyone I'm picky not pan
What do you think I am?
All of that "flavor" you bland
What do you think I am?
Under my skin I'm blanched


Come with me I'm peter pan
G-Girl we could fly never ____
Grah La I'm dangeorous
I run to the future Iran
Girl you don't play enough
I float I don't


Speak to me like you wanna ____ female
Can I make a L-A want E-L?
Talk chat I Phone E mail
Controller Bezos Retail


I like Steve so I wanna ____ Eve
I can talk better through a screen
Givenchy Ka-chow Alyx McQueen
L-La make a copy of my genes


Why are my kidneys making all this stress?
Transform pillow pet
I Phone SE XX X
Your Jobs done Next
Swipe up till you're deep rest
Thank god I'm tik tac blessed
I'm def-enetly net good


Heterosexual
Copy my paste out my genitals
I feel like Michael Jackson
You are a vegtable


And I got what I need
I was tryn find your flower in some weed
I might've missed you when I looked I got speed
Needa slow down I'm greedy


I D G A F about this bitch
Girl you see money but that boy just licorice
ho ho ho ho ho ho hoe
Is it Christmas?
Ho mo mo mo mo o
It's just my ______ fish stick
Tell me sl___ do you get it?
Uhnunuhnuh I sl____ you on the linnen


Oo
Imagine it's no heaven
Imagine in heaven
Imagine we already in heaven


Roof Roof Roof Roof Roof Roof Roof Roof
Dumb furry GMO wolf can I pet him?
I ain't had a crush in a minute
I'm not thinking bout you, but my pen is is
You don't own my heart but you rent it
And I don't feel no feelings but I meant it


La la la la la la la la
Imagine we already in heaven
La la la la la la la la`
                }

            ];

            const covers = {
                "123456": "../covers/123456cover.jpg",
                "believe": "../covers/believecover.jpg",
                "breathe": "../covers/breathecover.jpg",
                "bye": "../covers/byecover.jpg",
                "chivalrous fellow": "../covers/chivalrousfellowcover.jpg",
                "contact": "../covers/contactcover.jpg",
                "end": "../covers/endcover.jpg",
                "falling": "../covers/fallingcover.jpg",
                "fish": "../covers/fishcover.jpg",
                "i'm nothing": "../covers/imnothingcover.jpg",
                "incomplete": "../covers/incompletecover.jpg",
                "lala": "../covers/lalacover.jpg",
                "poke": "../covers/pokecover.jpg",
                "pseudo": "../covers/pseudocover.jpg",
                "see": "../covers/seecover.jpg",
                "social game": "../covers/socialgamecover.jpg",
                "tongues": "../covers/tonguescover.jpg",
                "twilight": "../covers/twilightcover.jpg",
                "ultrasounds": "../covers/ultrasoundscover.jpg",
                "xy": "../covers/xycover.jpg"
            };

            /* --- State --- */
            let idx = 0; let playing = false; let mode = "library"; // library | cover | lyrics

            /* --- Utils --- */
            function fmt(t) { if (!isFinite(t)) return "0:00"; const m = Math.floor(t / 60); const s = Math.floor(t % 60).toString().padStart(2, '0'); return `${m}:${s}`; }
            function setTabs(active) {
                mode = active;
                [tabLibrary, tabCover, tabLyrics].forEach(b => b.classList.remove('active'));
                if (active === "library") tabLibrary.classList.add('active');
                if (active === "cover") tabCover.classList.add('active');
                if (active === "lyrics") tabLyrics.classList.add('active');
                renderPane();
            }

            /* --- View --- */
            function renderPane() {
                pane.innerHTML = ""; pane.className = "pane";
                if (mode === "library") {
                    titleEl.textContent = "Library"; pane.className = "pane library";
                    const wrapper = document.createElement('div'); wrapper.className = "scrollbox";
                    const sc = document.createElement('div'); sc.className = "scrollcontent";
                    const list = document.createElement('div'); list.className = "list";
                    tracks.forEach((t, i) => {
                        const row = document.createElement('div'); row.className = "row" + (i === idx ? " active" : ""); row.textContent = t.title;
                        row.onclick = () => {
                            console.log('Clicking song:', t.title, 'at index:', i);
                            load(i);
                            setTabs("cover");
                            // Force play the new song
                            setTimeout(() => {
                                console.log('Attempting to play, current playing state:', playing);
                                audio.play().then(() => {
                                    console.log('Audio play succeeded');
                                }).catch(error => {
                                    console.error('Audio play failed:', error);
                                });
                            }, 100);
                        };
                        list.appendChild(row);
                    });
                    sc.appendChild(list); wrapper.appendChild(sc); pane.appendChild(wrapper);
                    requestAnimationFrame(() => {
                        const activeRow = sc.querySelector('.row.active');
                        if (activeRow) activeRow.scrollIntoView({ block: 'center' }); else sc.scrollTop = 0;
                    });
                    return;
                }

                const t = tracks[idx];
                if (mode === "cover") {
                    titleEl.textContent = t?.title || "â€”";
                    const src = covers[t?.title];
                    if (src) {
                        const img = document.createElement('img'); img.src = src; img.alt = `${t?.title || "Track"} cover`;
                        img.onerror = () => { img.style.display = 'none'; const d = document.createElement('div'); d.className = 'muted'; d.textContent = 'Cover not found'; pane.appendChild(d); };
                        pane.appendChild(img);
                    } else {
                        const d = document.createElement('div'); d.className = 'muted'; d.textContent = 'No cover available'; pane.appendChild(d);
                    }
                    return;
                }

                if (mode === "lyrics") {
                    titleEl.textContent = t?.title || "â€”";
                    const wrapper = document.createElement('div'); wrapper.className = "scrollbox";
                    const sc = document.createElement('div'); sc.className = "scrollcontent";
                    const box = document.createElement('div'); box.className = "lyrics";
                    const text = (t && t.lyrics && t.lyrics.trim()) ? t.lyrics : "No lyrics available.";
                    box.textContent = text;
                    if (text === "No lyrics available.") { box.style.color = "#d66"; box.style.opacity = "0.65"; }
                    sc.appendChild(box); wrapper.appendChild(sc); pane.appendChild(wrapper);
                    requestAnimationFrame(() => { sc.scrollTop = 0; });
                }
            }

            /* --- Controller --- */
            function load(i) {
                idx = Math.max(0, Math.min(i, tracks.length - 1)); // Ensure index is within bounds
                const t = tracks[idx];
                if (!t) {
                    console.error('No track found at index:', idx);
                    return;
                }
                audio.src = t.file;
                currentEl.textContent = "0:00";
                totalEl.textContent = "0:00";
                fillEl.style.width = "0%";
                if (mode !== "library") titleEl.textContent = t.title || "â€”";
                renderPane();
            }
            function playPause() { if (!audio.src) load(0); if (playing) audio.pause(); else audio.play(); }

            /* --- Events --- */
            progressBar.onclick = (e) => {
                if (!audio.duration) return;
                const rect = progressBar.getBoundingClientRect();
                const pos = (e.clientX - rect.left) / rect.width;
                audio.currentTime = pos * audio.duration;
            };
            btnPrev.onclick = () => { load(idx - 1); if (playing) audio.play(); };
            btnPlay.onclick = playPause;
            btnNext.onclick = () => { load(idx + 1); if (playing) audio.play(); };

            btnDownload.onclick = () => {
                const t = tracks[idx];
                // Create a proper download link instead of just opening the file
                const link = document.createElement('a');
                link.href = t.file;
                link.download = t.title + '.wav';
                link.style.display = 'none';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            };

            tabLibrary.onclick = () => setTabs("library");
            tabCover.onclick = () => setTabs("cover");
            tabLyrics.onclick = () => setTabs("lyrics");

            audio.addEventListener('loadedmetadata', () => { totalEl.textContent = fmt(audio.duration); });
            audio.addEventListener('timeupdate', () => {
                currentEl.textContent = fmt(audio.currentTime);
                const pct = audio.duration ? (audio.currentTime / audio.duration) * 100 : 0;
                fillEl.style.width = pct + "%";
            });
            audio.addEventListener('ended', () => btnNext.click());
            audio.addEventListener('play', () => { playing = true; btnPlay.querySelector('.label').textContent = 'â–¶ï¸Žâ€–'; });
            audio.addEventListener('pause', () => { playing = false; btnPlay.querySelector('.label').textContent = 'â–¶ï¸Žâ€–'; });

            document.addEventListener('keydown', (e) => {
                switch (e.code) {
                    case 'Space': e.preventDefault(); playPause(); break;
                    case 'ArrowLeft': e.preventDefault(); audio.currentTime = Math.max(0, (audio.currentTime || 0) - 5); break;
                    case 'ArrowRight': e.preventDefault(); audio.currentTime = Math.min(audio.duration || 0, (audio.currentTime || 0) + 5); break;
                    case 'ArrowUp': e.preventDefault(); btnPrev.click(); break;
                    case 'ArrowDown': e.preventDefault(); btnNext.click(); break;
                }
                const key = e.key.toLowerCase();
                if (key === 'l') setTabs('library');
                if (key === 'c') setTabs('cover');
                if (key === 'y') setTabs('lyrics');
            });

            document.querySelectorAll('button').forEach(btn => { btn.addEventListener('contextmenu', e => e.preventDefault()); });

            /* --- Visuals: spinning disk + local refraction --- */
            const lenses = Array.from(document.querySelectorAll('.refract .lens')).map(cv => ({ cv, ctx: cv.getContext('2d') }));
            const buttons = lenses.map(l => l.cv.parentElement);

            const STRENGTH = -50, WARP = -300.35, ZOOM = 10.18, ABERRATION = 1;
            const RIM_GAIN = .12, SPEC_INT = 0.0;
            let t = 0, diskSize = 0, rotation = 0;

            function roundRectPath(ctx, x, y, w, h, r) { const rr = Math.min(r, w / 2, h / 2); ctx.beginPath(); ctx.moveTo(x + rr, y); ctx.arcTo(x + w, y, x + w, y + h, rr); ctx.arcTo(x + w, y + h, x, y + h, rr); ctx.arcTo(x, y + h, x, y, rr); ctx.arcTo(x, y, x + w, y, rr); ctx.closePath(); }
            function smoothstep(a, b, x) { const u = Math.min(1, Math.max(0, (x - a) / (b - a))); return u * u * (3 - 2 * u); }

            function drawDisk(rot) {
                const { width: W, height: H } = disk; const cX = W / 2, cY = H / 2; const R = Math.min(cX, cY);
                dctx.save(); dctx.clearRect(0, 0, W, H); dctx.translate(cX, cY); dctx.rotate(rot);
                const g = dctx.createConicGradient(0, 0, 0);
                const stops = ['#ffffff', '#f5e1f6', '#ffefd1', '#fefec5', '#c8c8c8', '#8a8a8a', '#704864', '#4f5ab0', '#31c8de', '#6cd399', '#fcfcfc', '#eafae9', '#a3ffef', '#98bcea', '#9997a4', '#868686', '#f0ed5b', '#e2a3a7', '#d4d4d4', '#ffffff'];
                stops.forEach((col, i) => g.addColorStop(i / (stops.length - 1), col));
                dctx.fillStyle = g; dctx.beginPath(); dctx.arc(0, 0, R, 0, Math.PI * 2); dctx.fill(); dctx.restore();
            }

            function getSampleRect(btn) {
                const dr = disk.getBoundingClientRect(); const br = btn.getBoundingClientRect();
                const sx = disk.width / dr.width, sy = disk.height / dr.height;
                const x = Math.round((br.left - dr.left) * sx);
                const y = Math.round((br.top - dr.top) * sy);
                const w = Math.max(1, Math.round(br.width * sx));
                const h = Math.max(1, Math.round(br.height * sy));
                return { x, y, w, h };
            }

            const srcCanvas = document.createElement('canvas');
            const sctx = srcCanvas.getContext('2d');

            function cropDiskToSize(rect, W, H) {
                srcCanvas.width = W; srcCanvas.height = H;
                sctx.clearRect(0, 0, W, H);
                sctx.drawImage(disk, rect.x, rect.y, rect.w, rect.h, 0, 0, W, H);
                return sctx.getImageData(0, 0, W, H);
            }

            function applyFisheyeTo(ctx, W, H, srcData) {
                const s = srcData.data;
                const out = ctx.createImageData(W, H); const d = out.data;
                const CX = W / 2, CY = H / 2, AB = ABERRATION;
                const lx = 0.35 * Math.cos(t * 0.7), ly = 0.45 * Math.sin(t * 0.5); const Lz = Math.sqrt(Math.max(0.0001, 1 - lx * lx - ly * ly));

                const sample = (sx, sy) => { if (sx < 0 || sy < 0 || sx >= W || sy >= H) return [0, 0, 0, 0]; const si = (sy * W + sx) * 4; return [s[si], s[si + 1], s[si + 2], s[si + 3]]; };
                const sdRoundRect = (x, y, w, h, r) => { const px = Math.abs(x - w / 2) - (w / 2 - r); const py = Math.abs(y - h / 2) - (h / 2 - r); const ax = Math.max(px, 0), ay = Math.max(py, 0); return Math.hypot(ax, ay) + Math.min(Math.max(px, py), 0) - r; };

                for (let y = 0; y < H; y++) {
                    for (let x = 0; x < W; x++) {
                        const di = (y * W + x) * 4; const dist = sdRoundRect(x + .5, y + .5, W, H, H / 2); if (dist > 0) { d[di + 3] = 0; continue; }
                        const dx = x - CX, dy = y - CY; const rad = Math.hypot(dx, dy); const norm = rad / Math.min(CX, CY);
                        const factor = 1 + STRENGTH * Math.pow(norm, WARP);
                        const sxBase = Math.round(CX + dx / (factor * ZOOM)); const syBase = Math.round(CY + dy / (factor * ZOOM));
                        let rS = sample(sxBase - AB, syBase), gS = sample(sxBase, syBase), bS = sample(sxBase + AB, syBase);
                        let R = rS[0], G = gS[1], B = bS[2]; let A = (rS[3] + gS[3] + bS[3]) / 3;
                        const rim = RIM_GAIN * (1 - smoothstep(0, 10, -dist)) * 180; R = Math.min(255, R + rim); G = Math.min(255, G + rim); B = Math.min(255, B + rim);
                        const ndotl = Math.max(0, (dx / Math.max(1, rad)) * lx + (dy / Math.max(1, rad)) * ly + 0.75 * Lz);
                        const spec = Math.pow(ndotl, 28) * SPEC_INT * 255; R = Math.min(255, R + spec); G = Math.min(255, G + spec); B = Math.min(255, B + spec);
                        d[di] = R | 0; d[di + 1] = G | 0; d[di + 2] = B | 0; d[di + 3] = A | 0;
                    }
                }
                ctx.clearRect(0, 0, W, H);
                ctx.save(); roundRectPath(ctx, 0, 0, W, H, H / 2); ctx.clip(); ctx.putImageData(out, 0, 0);
                ctx.globalCompositeOperation = 'lighter';
                const gx = W * 0.35 + Math.cos(t * 0.7) * W * 0.08; const gy = H * 0.30 + Math.sin(t * 0.6) * H * 0.08;
                const rg = ctx.createRadialGradient(gx, gy, 4, gx, gy, Math.max(W, H) * 0.6); rg.addColorStop(0, 'rgba(255,255,255,0.18)'); rg.addColorStop(1, 'rgba(255,255,255,0)');
                ctx.fillStyle = rg; ctx.fill(); ctx.restore();
                ctx.lineWidth = 1; ctx.strokeStyle = 'rgba(255,255,255,0.45)'; roundRectPath(ctx, .5, .5, W - 1, H - 1, H / 2 - .5); ctx.stroke();
            }

            function sizeDiskToOuter() {
                const rect = outer.getBoundingClientRect(); const sz = Math.min(rect.width, rect.height);
                if (Math.round(sz) !== diskSize) { diskSize = Math.round(sz); disk.width = diskSize; disk.height = diskSize; }
            }

            function sizeLenses() {
                for (const { cv } of lenses) {
                    const btn = cv.parentElement; const r = btn.getBoundingClientRect();
                    const w = Math.max(24, Math.round(r.width)); const h = Math.max(20, Math.round(r.height));
                    if (cv.width !== w || cv.height !== h) { cv.width = w; cv.height = h; }
                }
            }

            function frame() {
                t += 0.01;

                // Only spin the disk when music is playing
                if (playing) {
                    rotation += 0.008;
                }

                drawDisk(rotation);

                for (let i = 0; i < lenses.length; i++) {
                    const { cv, ctx } = lenses[i]; const rect = getSampleRect(buttons[i]);
                    const srcData = cropDiskToSize(rect, cv.width, cv.height);
                    applyFisheyeTo(ctx, cv.width, cv.height, srcData);
                }
                requestAnimationFrame(frame);
            }

            const ro = new ResizeObserver(() => { sizeDiskToOuter(); sizeLenses(); });
            ro.observe(outer); lenses.forEach(l => ro.observe(l.cv.parentElement));

            /* --- Init --- */
            setTabs('library'); if (tracks.length) load(0);
            sizeDiskToOuter(); sizeLenses(); frame();
        })();
    </script>
</body>

</html>